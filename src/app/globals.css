@import "tailwindcss";

:root {
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;
  --primary: 240 5.9% 10%;
  --primary-foreground: 0 0% 98%;
  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 240 5.9% 10%;
  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;
  --accent: 240 4.8% 95.9%;
  --accent-foreground: 240 5.9% 10%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 240 5% 64.9%;
  --radius: 0.75rem;
}

.dark {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 240 5.9% 10%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 240 4.9% 83.9%;
}

@layer base {
  /* Usa CSS directo con tus tokens en vez de @apply */
  *,
  ::before,
  ::after {
    border-color: hsl(var(--border));
  }
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }
}

@layer components {
  /* Tipografía/espacio base */
  .rbc-calendar {
    font-size: 0.95rem;
  }
  .rbc-toolbar {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }

  /* Botones de la toolbar más “modernos” */
  .rbc-toolbar button {
    /* equivalente a h-9 px-3 rounded-md border bg-white hover:bg-gray-50 */
    height: 2.25rem;
    padding-inline: 0.75rem;
    border-radius: 0.375rem;
    border: 1px solid #e5e7eb;
    background: #fff;
    transition: background 0.15s ease;
  }
  .rbc-toolbar button:hover {
    background: #f9fafb;
  }
  .rbc-toolbar .rbc-active {
    background: #111827;
    color: #fff;
    border-color: #111827;
  }

  /* Eventos: color y radios */
  .rbc-event {
    background: hsl(var(--primary)); /* usa tu token */
    border-color: hsl(var(--primary));
    border-radius: 0.5rem; /* 8px */
  }
  .rbc-event.rbc-selected {
    background: hsl(var(--primary));
    filter: brightness(0.9);
  }

  /* Hoy y días fuera de rango (mes) */
  .rbc-today {
    background: rgba(59, 130, 246, 0.08);
  } /* azul 500 con 8% */
  .dark .rbc-today {
    background: rgba(59, 130, 246, 0.18);
  }
  .rbc-off-range-bg {
    background: #fafafa;
  }
  .dark .rbc-off-range-bg {
    background: #0f172a;
  }

  /* Fines de semana en vista mes */
  .rbc-month-view .rbc-row-bg > *:nth-child(6),
  .rbc-month-view .rbc-row-bg > *:nth-child(7) {
    background: rgba(148, 163, 184, 0.15); /* slate-400/15 */
  }

  /* Mejor borde general */
  .rbc-month-view,
  .rbc-time-view {
    border-radius: 0.75rem; /* 12px */
    border: 1px solid #e5e7eb;
  }
}

/* si usas backdrop del modal nativo en alguna parte: */
dialog::backdrop {
  background: rgba(0, 0, 0, 0.45);
}

@layer utilities {
  /* Borde suavemente difuminado hacia los 4 lados */
  .mask-feather {
    /* 2 máscaras perpendiculares y su intersección */
    -webkit-mask-image: linear-gradient(
        to right,
        transparent,
        #000 8%,
        #000 92%,
        transparent
      ),
      linear-gradient(to bottom, transparent, #000 8%, #000 92%, transparent);
    -webkit-mask-composite: destination-in;

    mask-image: linear-gradient(
        to right,
        transparent,
        #000 8%,
        #000 92%,
        transparent
      ),
      linear-gradient(to bottom, transparent, #000 8%, #000 92%, transparent);
    mask-composite: intersect;
  }

  /* Intensidades opcionales (más/menos difuso) */
  .mask-feather-sm {
    -webkit-mask-image: linear-gradient(
        to right,
        transparent,
        #000 6%,
        #000 94%,
        transparent
      ),
      linear-gradient(to bottom, transparent, #000 6%, #000 94%, transparent);
    -webkit-mask-composite: destination-in;

    mask-image: linear-gradient(
        to right,
        transparent,
        #000 6%,
        #000 94%,
        transparent
      ),
      linear-gradient(to bottom, transparent, #000 6%, #000 94%, transparent);
    mask-composite: intersect;
  }

  .mask-feather-lg {
    -webkit-mask-image: linear-gradient(
        to right,
        transparent,
        #000 12%,
        #000 88%,
        transparent
      ),
      linear-gradient(to bottom, transparent, #000 12%, #000 88%, transparent);
    -webkit-mask-composite: destination-in;

    mask-image: linear-gradient(
        to right,
        transparent,
        #000 12%,
        #000 88%,
        transparent
      ),
      linear-gradient(to bottom, transparent, #000 12%, #000 88%, transparent);
    mask-composite: intersect;
  }
}
